<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="819px" preserveAspectRatio="none" style="width:703px;height:819px;background:#FFFFFF;" version="1.1" viewBox="0 0 703 819" width="703px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="81.2969" y2="738.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="267.127" x2="267.127" y1="81.2969" y2="738.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="514.0981" x2="514.0981" y1="81.2969" y2="738.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="650.3628" x2="650.3628" y1="81.2969" y2="738.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="77.9951">User</text><ellipse cx="23.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,21.5 L23.9551,48.5 M10.9551,29.5 L36.9551,29.5 M23.9551,48.5 L10.9551,63.5 M23.9551,48.5 L36.9551,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="750.9482">User</text><ellipse cx="23.9551" cy="762.75" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,770.75 L23.9551,797.75 M10.9551,778.75 L36.9551,778.75 M23.9551,797.75 L10.9551,812.75 M23.9551,797.75 L36.9551,812.75 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.8125" x="244.127" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.8125" x="251.127" y="69.9951">Auth</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.8125" x="244.127" y="737.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.8125" x="251.127" y="757.9482">Auth</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.6514" x="466.0981" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6514" x="473.0981" y="69.9951">UserService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.6514" x="466.0981" y="737.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6514" x="473.0981" y="757.9482">UserService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="610.3628" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="617.3628" y="69.9951">Database</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="610.3628" y="737.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="617.3628" y="757.9482">Database</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="696.1636" x="0" y="111.8633"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="696.1636" y1="111.8633" y2="111.8633"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="696.1636" y1="114.8633" y2="114.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="109.1069" x="293.5283" y="101.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90.5811" x="299.5283" y="117.3638">Registration</text><polygon fill="#181818" points="255.5332,151.5625,265.5332,155.5625,255.5332,159.5625,259.5332,155.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="261.5332" y1="155.5625" y2="155.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.5781" x="30.9551" y="150.4966">Register (name, email, password)</text><polygon fill="#181818" points="502.9238,180.6953,512.9238,184.6953,502.9238,188.6953,506.9238,184.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="267.5332" x2="508.9238" y1="184.6953" y2="184.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.4155" x="274.5332" y="179.6294">Validate and hash password</text><polygon fill="#181818" points="638.7632,209.8281,648.7632,213.8281,638.7632,217.8281,642.7632,213.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="514.9238" x2="644.7632" y1="213.8281" y2="213.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8394" x="521.9238" y="208.7622">Save user details</text><polygon fill="#181818" points="525.9238,238.9609,515.9238,242.9609,525.9238,246.9609,521.9238,242.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="519.9238" x2="649.7632" y1="242.9609" y2="242.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.4458" x="531.9238" y="237.895">User saved</text><polygon fill="#181818" points="278.5332,268.0938,268.5332,272.0938,278.5332,276.0938,274.5332,272.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="272.5332" x2="513.9238" y1="272.0938" y2="272.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3887" x="284.5332" y="267.0278">Registration successful</text><polygon fill="#181818" points="34.9551,297.2266,24.9551,301.2266,34.9551,305.2266,30.9551,301.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="28.9551" x2="266.5332" y1="301.2266" y2="301.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.8525" x="40.9551" y="296.1606">Registration successful response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="696.1636" x="0" y="329.793"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="696.1636" y1="329.793" y2="329.793"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="696.1636" y1="332.793" y2="332.793"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="58.7573" x="318.7031" y="319.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40.2314" x="324.7031" y="335.2935">Login</text><polygon fill="#181818" points="255.5332,369.4922,265.5332,373.4922,255.5332,377.4922,259.5332,373.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="261.5332" y1="373.4922" y2="373.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.6382" x="30.9551" y="368.4263">Login (email, password)</text><polygon fill="#181818" points="502.9238,398.625,512.9238,402.625,502.9238,406.625,506.9238,402.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="267.5332" x2="508.9238" y1="402.625" y2="402.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.5083" x="274.5332" y="397.5591">Fetch user by email</text><polygon fill="#181818" points="638.7632,427.7578,648.7632,431.7578,638.7632,435.7578,642.7632,431.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="514.9238" x2="644.7632" y1="431.7578" y2="431.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.9951" x="521.9238" y="426.6919">Query user</text><polygon fill="#181818" points="525.9238,456.8906,515.9238,460.8906,525.9238,464.8906,521.9238,460.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="519.9238" x2="649.7632" y1="460.8906" y2="460.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0732" x="531.9238" y="455.8247">User details</text><polygon fill="#181818" points="278.5332,486.0234,268.5332,490.0234,278.5332,494.0234,274.5332,490.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="272.5332" x2="513.9238" y1="490.0234" y2="490.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4756" x="284.5332" y="484.9575">Validate password</text><polygon fill="#181818" points="34.9551,515.1563,24.9551,519.1563,34.9551,523.1563,30.9551,519.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.9551" x2="266.5332" y1="519.1563" y2="519.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.6245" x="40.9551" y="514.0903">Return JWT + Refresh Token</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="696.1636" x="0" y="547.7227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="696.1636" y1="547.7227" y2="547.7227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="696.1636" y1="550.7227" y2="550.7227"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="124.2715" x="285.946" y="537.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.7456" x="291.946" y="553.2231">Token Refresh</text><polygon fill="#181818" points="255.5332,587.4219,265.5332,591.4219,255.5332,595.4219,259.5332,591.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="261.5332" y1="591.4219" y2="591.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.3599" x="30.9551" y="586.356">Refresh token (old refresh token)</text><polygon fill="#181818" points="638.7632,616.5547,648.7632,620.5547,638.7632,624.5547,642.7632,620.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="267.5332" x2="644.7632" y1="620.5547" y2="620.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.752" x="274.5332" y="615.4888">Validate refresh token</text><line style="stroke:#181818;stroke-width:1;" x1="267.5332" x2="309.5332" y1="649.6875" y2="649.6875"/><line style="stroke:#181818;stroke-width:1;" x1="309.5332" x2="309.5332" y1="649.6875" y2="662.6875"/><line style="stroke:#181818;stroke-width:1;" x1="268.5332" x2="309.5332" y1="662.6875" y2="662.6875"/><polygon fill="#181818" points="278.5332,658.6875,268.5332,662.6875,278.5332,666.6875,274.5332,662.6875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.3906" x="274.5332" y="644.6216">Generate new JWT + Refresh Token</text><polygon fill="#181818" points="638.7632,687.8203,648.7632,691.8203,638.7632,695.8203,642.7632,691.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="267.5332" x2="644.7632" y1="691.8203" y2="691.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.0029" x="274.5332" y="686.7544">Store new refresh token</text><polygon fill="#181818" points="34.9551,716.9531,24.9551,720.9531,34.9551,724.9531,30.9551,720.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="28.9551" x2="266.5332" y1="720.9531" y2="720.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.6265" x="40.9551" y="715.8872">Return new JWT + Refresh Token</text><!--SRC=[ZLFBReCm4BpxA_QOgiaF856fKjLALIyjQNlUc4smGcpaHwByVVq00XJKtl1uTdPc0EHMQVWqf5c3sWek6fGM7fsjHa1W5AJFWjC8VqABEpJ4M9x31ns4iHgjK1Bod8KXs3n4jQozzSXAuedMG2SKzHeQDEQYT7d70YtG1xio-C9Qb6W9K9PGeQdw0JRWXR7EIWO5dWbSM5wIzKiCw-vWCzMF7eqVcEXDRBUXZEESZDcxkdNRoYtIG9Dfb6mBUbC7CTDCWbV_A-IPBAzIkjqrbRZSnBiZVOtalohecff89OFzI-Yx7reBuQtJ4bw_jt3l3tiVkeAjEfACiUDJZyzy6Ed2HjfArQLlRG3TYhW5wnsDc3qn2R-G91r8aYwpvdxh5lvtIFmvuMdW1TqV]--></g></svg>